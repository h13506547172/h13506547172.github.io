(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bcd38176"],{"1cea":function(e,t,a){},"1d5a":function(e,t,a){},3685:function(e,t,a){"use strict";a("6faf")},"609b":function(e,t,a){},"68e4":function(e,t,a){"use strict";a("609b")},"6faf":function(e,t,a){},"739f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-button",[a("i",{staticClass:"el-icon-search"}),a("span",[e._v("查询")])])},r=[],o={data:function(){return{}},created:function(){},methods:{}},l=o,s=(a("68e4"),a("2877")),c=Object(s["a"])(l,n,r,!1,null,"0efc684e",null);t["a"]=c.exports},a838:function(e,t,a){"use strict";a("1cea")},b310:function(e,t,a){"use strict";a("1d5a")},c1c4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("searchBar",{on:{passData:e.passDataFn}}),a("infoBar",{attrs:{name:e.name}})],1)},r=[],o=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("el-form",{ref:"Form",staticClass:"Form",attrs:{model:e.FormData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"型号搜索"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.FormData.name,callback:function(t){e.$set(e.FormData,"name",t)},expression:"FormData.name"}})],1)],1),a("search",{nativeOn:{click:function(t){return e.passFn(t)}}})],1)}),l=[],s=a("739f"),c={components:{search:s["a"]},props:{},data:function(){return{FormData:{name:""}}},created:function(){},methods:{passFn:function(){this.$emit("passData",this.FormData)}}},i=c,u=(a("3685"),a("2877")),m=Object(u["a"])(i,o,l,!1,null,"1a8ca8b9",null),d=m.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-bar"},[a("div",{staticClass:"btns"},[a("addButton",{nativeOn:{click:function(t){return e.addShow(t)}}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.vmTypeList,stripe:""}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"型号名称"}}),a("el-table-column",{attrs:{prop:"model",label:"型号编码"}}),a("el-table-column",{attrs:{prop:"image",label:"设备图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"type-img",attrs:{src:e.vmTypeList[t.$index].image,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"vmRow",label:"货道行"}}),a("el-table-column",{attrs:{prop:"vmCol",label:"货道列"}}),a("el-table-column",{attrs:{prop:"channelMaxCapacity",label:"设备容量"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"margin-right":"10px"},attrs:{href:"javascript:;"},on:{click:function(a){return e.amendFn(t.$index)}}},[e._v("修改")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.delvmTypeList(t.$index)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("共"+e._s(e.total)+"条记录 第 "+e._s(e.currentPage1)+"/"+e._s(e.totalPage)+" 页")]),a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-size":10,layout:"prev, next",total:e.total},on:{"prev-click":e.prevnextClickFn,"next-click":e.prevnextClickFn,"update:currentPage":function(t){e.currentPage1=t},"update:current-page":function(t){e.currentPage1=t}}})],1),a("el-dialog",{attrs:{title:"新增设备列表",visible:e.addDialogShow,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogShow=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"型号名称",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"型号编码",prop:"model"}},[a("el-input",{model:{value:e.addForm.model,callback:function(t){e.$set(e.addForm,"model",t)},expression:"addForm.model"}})],1),a("el-form-item",{attrs:{label:"货道行数",prop:"vmRow"}},[a("el-input",{attrs:{type:"number",max:"10",min:"1"},model:{value:e.addForm.vmRow,callback:function(t){e.$set(e.addForm,"vmRow",t)},expression:"addForm.vmRow"}})],1),a("el-form-item",{attrs:{label:"货道列数",prop:"vmCol"}},[a("el-input",{attrs:{type:"number",max:"10",min:"1"},model:{value:e.addForm.vmCol,callback:function(t){e.$set(e.addForm,"vmCol",t)},expression:"addForm.vmCol"}})],1),a("el-form-item",{attrs:{label:"货道容量",prop:"channelMaxCapacity"}},[a("el-input",{attrs:{type:"number",max:"10",min:"1"},model:{value:e.addForm.channelMaxCapacity,callback:function(t){e.$set(e.addForm,"channelMaxCapacity",t)},expression:"addForm.channelMaxCapacity"}})],1),a("el-form-item",{attrs:{label:"设备图片",prop:"image"}},[a("el-upload",{ref:"upimg",attrs:{limit:1,action:"/api/vm-service/sku/fileUpload","list-type":"picture-card","auto-upload":!0,"on-success":e.upImg,"on-remove":e.removeImg,name:"fileName"},scopedSlots:e._u([{key:"file",fn:function(e){var t=e.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}})])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addVmFn}},[e._v("确 定")])],1)],1)],1)},f=[],v=a("c7eb"),b=a("1da1"),h=a("f2eb"),g=a("b775");function w(e,t){return Object(g["a"])({url:"/vm-service/vmType/search",method:"get",params:{pageIndex:e,pageSize:10,name:t}})}function x(e){return Object(g["a"])({url:"/vm-service/vmType/"+e,method:"DELETE"})}function F(e){return Object(g["a"])({url:"/vm-service/vmType",method:"POST",data:e})}var y={props:{name:{type:String,required:!0}},components:{addButton:h["a"]},data:function(){return{currentPage1:1,total:955,totalPage:100,vmTypeList:[],addDialogShow:!1,addForm:{name:"",model:"",vmRow:"",vmCol:"",channelMaxCapacity:"",image:""},rules:{name:[{required:!0,message:"请输入",trigger:"blur"}],model:[{required:!0,message:"请输入",trigger:"blur"}],vmRow:[{required:!0,message:"请输入",trigger:"blur"}],vmCol:[{required:!0,message:"请输入",trigger:"blur"}],channelMaxCapacity:[{required:!0,message:"请输入",trigger:"blur"}]}}},created:function(){var e=this;return Object(b["a"])(Object(v["a"])().mark((function t(){return Object(v["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getvmTypeList(1);case 2:case"end":return t.stop()}}),t)})))()},methods:{getvmTypeList:function(e,t){var a=this;return Object(b["a"])(Object(v["a"])().mark((function n(){var r;return Object(v["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,w(e,t);case 2:r=n.sent,a.total=+r.data.totalCount,a.totalPage=r.data.totalPage,a.vmTypeList=r.data.currentPageRecords;case 6:case"end":return n.stop()}}),n)})))()},prevnextClickFn:function(e){var t=this;return Object(b["a"])(Object(v["a"])().mark((function a(){return Object(v["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentPage1=e,a.next=3,t.getvmTypeList(e,t.name);case 3:case"end":return a.stop()}}),a)})))()},delvmTypeList:function(e){var t=this;return Object(b["a"])(Object(v["a"])().mark((function a(){return Object(v["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,x(t.vmTypeList[e].typeId);case 2:case"end":return a.stop()}}),a)})))()},addShow:function(){this.addDialogShow=!0},handleClose:function(){this.$refs.upimg.clearFiles(),this.addDialogShow=!1},upImg:function(e){console.log(e),this.addForm.image=e},removeImg:function(e){console.log(e)},addVmFn:function(){var e=this;return Object(b["a"])(Object(v["a"])().mark((function t(){return Object(v["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F(e.addForm);case 2:e.$refs.upimg.clearFiles(),e.addDialogShow=!1,e.getvmTypeList(1,e.name);case 5:case"end":return t.stop()}}),t)})))()},amendFn:function(e){this.addForm=this.vmTypeList[e],this.addDialogShow=!0}},watch:{name:function(e){var t=this;return Object(b["a"])(Object(v["a"])().mark((function a(){return Object(v["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentPage1=1,a.next=3,t.getvmTypeList(t.currentPage1,e);case 3:case"end":return a.stop()}}),a)})))()}}},C=y,k=(a("a838"),Object(u["a"])(C,p,f,!1,null,"bb064068",null)),O=k.exports,j={components:{searchBar:d,infoBar:O},data:function(){return{name:""}},created:function(){},methods:{passDataFn:function(e){this.name=e.name}}},_=j,D=Object(u["a"])(_,n,r,!1,null,"72927589",null);t["default"]=D.exports},f2eb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-button",[a("i",{staticClass:"el-icon-circle-plus-outline"}),a("span",[e._v("新建")])])},r=[],o={data:function(){return{}},created:function(){},methods:{}},l=o,s=(a("b310"),a("2877")),c=Object(s["a"])(l,n,r,!1,null,"079203be",null);t["a"]=c.exports}}]);